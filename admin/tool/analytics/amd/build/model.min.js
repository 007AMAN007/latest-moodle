define(["jquery","core/str","core/log","core/notification","core/modal_factory","core/modal_events"],function(a,b,c,d,e,f){var g={clear:{title:{key:"clearpredictions",component:"tool_analytics"},body:{key:"clearmodelpredictions",component:"tool_analytics"}},"delete":{title:{key:"delete",component:"tool_analytics"},body:{key:"deletemodelconfirmation",component:"tool_analytics"}}},h='<div class="box mb-4">{{evaluationmodeinfo}}</div><div class="form-check"><input class="form-check-input" type="radio" name="evaluationmode" id="id-mode-trainedmodel" value="trainedmodel" checked><label class="form-check-label" for="id-mode-trainedmodel">{{trainedmodellabel}}</label></div><div class="form-check"><input class="form-check-input" type="radio" name="evaluationmode" id="id-mode-configuration" value="configuration"><label class="form-check-label" for="id-mode-configuration">{{configurationlabel}}</label></div>',i=function(b){return a(b.closest("tr")[0]).find("span.target-name").text()};return{confirmAction:function(h,j){a('[data-action-id="'+h+'"]').on("click",function(h){h.preventDefault();var k=a(h.currentTarget);if("undefined"==typeof g[j])return void c.error('Action "'+j+'" is not allowed.');var l=[g[j].title,g[j].body];l[1].param=i(k);var m=b.get_strings(l),n=e.create({type:e.types.SAVE_CANCEL});a.when(m,n).then(function(a,b){return b.setTitle(a[0]),b.setBody(a[1]),b.setSaveButtonText(a[0]),b.getRoot().on(f.save,function(){window.location.href=k.attr("href")}),b.show(),b}).fail(d.exception)})},selectEvaluationMode:function(c,g){a('[data-action-id="'+c+'"]').on("click",function(c){c.preventDefault();var i=a(c.currentTarget);if(!g)return void(window.location.href=i.attr("href"));var j=b.get_strings([{key:"evaluatemodel",component:"tool_analytics"},{key:"evaluationmode",component:"tool_analytics"},{key:"evaluationmodeinfo",component:"tool_analytics"},{key:"evaluationmodetrainedmodel",component:"tool_analytics"},{key:"evaluationmodeconfiguration",component:"tool_analytics"}]),k=e.create({type:e.types.SAVE_CANCEL});a.when(j,k).then(function(b,c){c.getRoot().on(f.hidden,c.destroy.bind(c)),c.setTitle(b[1]),c.setSaveButtonText(b[0]);var d=h.replace(/{{evaluationmodeinfo}}/,b[2]).replace(/{{trainedmodellabel}}/,b[3]).replace(/{{configurationlabel}}/,b[4]);return c.setBody(d),c.getRoot().on(f.save,function(){var b=a("input[name='evaluationmode']:checked").val();"trainedmodel"==b&&i.attr("href",i.attr("href")+"&mode=trainedmodel"),window.location.href=i.attr("href")}),c.show(),c}).fail(d.exception)})}}});