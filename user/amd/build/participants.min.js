define ("core_user/participants",["exports","core_table/local/dynamic/selectors","core/modal_events","core/notification","core/custom_interaction_events","core_user/local/participants/bulkactions"],function(a,b,c,d,e,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=void 0;b=g(b);c=g(c);d=g(d);e=g(e);function g(a){return a&&a.__esModule?a:{default:a}}var h={bulkActionSelect:"#formactionid",bulkUserCheckBoxes:"input.usercheckbox",bulkUserSelectedCheckBoxes:"input.usercheckbox:checked",checkAllButton:"#checkall",stateHelpIcon:"[data-region=\"state-help-icon\"]",tableForm:function tableForm(a){return"form[data-table-unique-id=\"".concat(a,"\"]")}};a.init=function init(a){var g=a.uniqueid,i=a.noteStateNames,j=void 0===i?{}:i,k=document.querySelector(h.tableForm(g)),l=function(a){return k.querySelector(b.default.main.fromRegionId(a))},m=function(){k.querySelector(h.bulkActionSelect).addEventListener(e.default.events.accessibleChange,function(a){var b=a.target.value,e=l(g),i=e.querySelectorAll(h.bulkUserSelectedCheckBoxes);if(-1!==b.indexOf("#")){a.preventDefault();var m=[];i.forEach(function(a){m.push(a.getAttribute("name").replace("user",""))});var o;if("#messageselect"===b){o=(0,f.showSendMessage)(m)}else if("#addgroupnote"===b){o=(0,f.showAddNote)(k.dataset.courseId,m,j,k.querySelector(h.stateHelpIcon))}if(o){o.then(function(a){a.getRoot().on(c.default.hidden,function(){var a=k.querySelector(h.bulkActionSelect);a.focus()});return a}).catch(d.default.exception)}}else if(""!==b&&i.length){a.target.form.submit()}n(a.target)});k.addEventListener("click",function(a){var b=a.target.closest(h.checkAllButton);if(b){var c=b.dataset.showalllink;if(c){window.location=c}}})},n=function(a){a.value=""};m()}});
//# sourceMappingURL=participants.min.js.map
